<?xml version="1.0" encoding="UTF-8"?>
<form xmlns="http://www.w3.org/1999/xhtml" action="search.html" method="post" data-template="app:deserialize-query-string" class="form-inline">
    <div class="panel-group">
        <!-- add in style overflow:visible to leave dropdown of multiselect plugin not being cropped -->
        <div class="panel panel-default" style="overflow:visible;">
            <div class="panel-heading">
                <h6 class="panel-title">
                    <a data-toggle="collapse" data-parent="#filters" href="#filters">
                        <i class="indicator glyphicon glyphicon-chevron-down"/> Filters
                    </a>
                </h6>
            </div>
            <div id="filters" class="panel-body panel-collapse collapse in">
                <fieldset>
                    <div class="form-inline">
                        <div class="form-group">
                            <label class="control-label" for="cs_position">Position:</label>
                            <input class="form-control" name="cs_position" placeholder="Name or J2000 coordinates" data-template="helpers:form-control"/>
                            <input class="form-control" name="cs_equinox" type="hidden" value="J2000"/>
                            <!-- replace with following code when equinox is handled on server 
                                <select class="form-control" name="cs_equinox"><option selected="selected">J2000</option></select>-->
                        </div>
                        <div class="form-group">
                            <label class="control-label" for="cs_radius">Radius:</label>
                            <input class="form-control" style="width: 90px;" type="number" name="cs_radius" data-template="helpers:form-control" value="2"/>
                            <select class="form-control" name="cs_radius_unit" data-template="helpers:form-control">
                                <option>arcmin</option>
                                <option>arcsec</option>
                                <option>deg</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <div class="form-group">
                                <label class="control-label">Date of observation:</label>
                            </div>
                            <div class="form-group">
                                <div class="input-group date">
                                    <span class="input-group-addon">
                                                after
                                            </span>
                                    <input class="form-control" name="date_start" type="date" placeholder="YYYY-MM-DD" data-template="helpers:form-control"/>
                                    <span class="input-group-addon">
                                        <i class="glyphicon glyphicon-calendar"/>
                                    </span>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="input-group date">
                                    <span class="input-group-addon">
                                                before
                                            </span>
                                    <input class="form-control" name="date_end" type="date" placeholder="YYYY-MM-DD" data-template="helpers:form-control"/>
                                    <span class="input-group-addon">
                                        <i class="glyphicon glyphicon-calendar"/>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-inline">
                        <div class="form-group">
                            <div class="form-inline">
                                <div class="form-group" data-template="app:instruments">
                                    <label class="control-label" for="instrument">Instrument: </label>
                                    <select class="form-control" name="instrument" data-template="helpers:form-control">
                                        <option value="">Any Instrument</option>
                                        <option data-template="helpers:select-options" data-template-key="instruments"/>
                                    </select>
                                </div>
<!--                        <fieldset>-->
<!--                            <label for="instrument_mode">Instrument mode: </label>-->
<!--                            <div class="controls">-->
<!--                            </div>-->
<!--                        </fieldset>-->
                                <div class="form-group" data-template="app:bands">
                                    <label class="control-label" for="band">Wavelength range: </label>
                                    <div data-template="app:wavelength-divisions">
                                        <select class="form-control multiple" name="band" data-template="helpers:form-control" size="1" multiple="multiple">
<!--                                TODO handle optgroup for select in templates-helpers -->
<!--                                    <optgroup label="wide bands">-->
                                            <option data-template="helpers:select-options" data-template-key="wavelength-divisions" data-template-sorted="no"/>
<!--                                    </optgroup>-->
<!--                                    <optgroup label="individual bands">-->
                                            <option data-template="helpers:select-options" data-template-key="bands" data-template-sorted="no"/>
<!--                                    </optgroup>-->
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-inline">
                                <div class="form-group" data-template="app:collections-options">
                                    <label class="control-label" for="collection">Collection: </label>
                                    <select class="form-control" name="collection" data-template="helpers:form-control">
                                        <option value="">Any Collection</option>
                                        <option data-template="helpers:select-options" data-template-key="collections"/>
                                    </select>
                                </div>
                                <div class="form-group" data-template="app:data-pis">
                                    <label class="control-label" for="datapi">DataPI name: </label>
                                    <select class="form-control" name="datapi" data-template="helpers:form-control">
                                        <option value="">Any DataPI</option>
                                        <option data-template="helpers:select-options" data-template-key="datapis"/>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-group">
                                <label class="control-label" for="reduction">Data reduction level: </label>
                                <input class="checkbox form-control" name="reduction" value="0" type="checkbox" checked="checked" data-template="helpers:form-control">
                                    <a href="#" rel="tooltip" data-original-title="Observation logs">L0</a>
                                </input>,&#160;
                            <input class="checkbox form-control" name="reduction" value="1" type="checkbox" checked="checked" data-template="helpers:form-control">
                                    <a href="#" rel="tooltip" data-original-title="Uncalibrated OIFITS">L1</a>
                                </input>,&#160;
                            <input class="checkbox form-control" name="reduction" value="2" type="checkbox" checked="checked" data-template="helpers:form-control">
                                    <a href="#" rel="tooltip" data-original-title="Calibrated OIFITS">L2</a>
                                </input>,&#160;
                            <input class="checkbox form-control" name="reduction" value="3" type="checkbox" checked="checked" data-template="helpers:form-control">
                                    <a href="#" rel="tooltip" data-original-title="Published calibrated OIFITS">L3</a>
                                </input>.
                        </div>
                            <div class="form-group">
                                <label class="control-label" for="available">Availability: </label>
                                <input class="radio-inline form-control" name="available" value="yes" type="radio" data-template="helpers:form-control">Public</input>
                                <input class="radio-inline form-control" name="available" value="no" type="radio" data-template="helpers:form-control">Restricted</input>
                                <input class="radio-inline form-control" name="available" value="all" type="radio" data-template="helpers:form-control" checked="checked">All</input>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
            <div class="panel-footer">
                <div class="row form-inline">
                    <div class="form-group col-md-7" data-template="app:sort-by">
                        <select class="form-control" data-template="helpers:form-control" name="perpage">
                            <option>10</option>
                            <option>25</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        rows max. per page, sorted by 
                        <select class="form-control" data-template="helpers:form-control" name="sortby">
                            <option data-template="helpers:select-options" data-template-sorted="no" data-template-key="sortbys"/>
                        </select>
                        <input class="checkbox form-control" type="checkbox" name="descending" value="yes" data-template="helpers:form-control">&#160;descending</input>.
                    </div>
                    <div class="form-group col-md-offset-1 col-md-2">
                        <button type="submit" class="btn btn-primary btn-block">
                            <i class="glyphicon glyphicon-search"/> Search </button>
                    </div>
                    <div class="form-group col-md-2">
                        <a href="search.html" class="btn btn-default" role="button"> Reset <i class="glyphicon glyphicon-refresh"/>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
