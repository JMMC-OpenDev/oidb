<?xml version="1.0" encoding="UTF-8"?>
<div>
    <div id="flash" data-template="helpers:if-model-key" data-template-key="flash" class="row">
        <div class="alert alert-danger alert-dismissable col-md-offset-2 col-md-8">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">Ã—</button>
            <strong>Error!</strong>&#160;
          <span data-template="helpers:model-content" data-template-key="flash"/>.
        </div>
    </div>
    <div class="row">
        <div data-template="helpers:unless-model-key" data-template-key="rows" class="col-md-offset-2 col-md-8">
            <div data-template="helpers:unless-model-key" data-template-key="empty-search" class="col-md-12">
                <h1>Sorry, no result. Please change your query.</h1>
            </div>
        </div>
        
        <div data-template="helpers:if-model-key" data-template-key="rows" class="col-md-12">

        <h2>Results <small data-template="helpers:if-model-key" data-template-key="stats">
                    <span data-template="helpers:if-model-key" data-template-key="stats.noifitsfiles"> <em data-template="helpers:model-value" data-template-key="stats.nobservations"/> records from </span>
                    <span data-template="helpers:model-value" data-template-key="stats.nlogs"/> obs logs
                    <span data-template="helpers:if-model-key" data-template-key="stats.noifitsfiles"> and <em data-template="helpers:model-value" data-template-key="stats.noifitsfiles"/> oifits files
                    <span data-template="helpers:if-model-key" data-template-key="stats.nprivatefiles">(<em data-template="helpers:model-value" data-template-key="stats.nprivatefiles"/> private)</span>
                    </span>
            </small>
        </h2>

        <div data-template="templates:surround" data-template-with="templates/paginated.html" data-template-at="paginated">
            <table class="table table-striped table-bordered table-hover">
                <thead>
                    <tr data-template="helpers:if-model-key" data-template-key="rows">
                        <th> 
                            <div class="dropdown">
                                <a class="dropdown-toggle text-success" data-toggle="dropdown" href="#">
                                    <b>
                                        <span class="glyphicon glyphicon-download"/>&#160;<b class="caret"/>
                                    </b>
                                </a>
                                <ul class="dropdown-menu" role="menu"/>
                            </div>
                        </th>
                        <th data-template="helpers:each" data-template-from="columns" data-template-to="column">
                            <a data-template="app:column-sort">
                                <span data-template="helpers:model-value" data-template-key="column.label"/>
                            </a>
                            <div data-template="helpers:if-model-key" data-template-key="column.ucd">
                                <a data-template="helpers:model-value-attribute" data-template-key="column.ucd-url" data-template-name="href">
                                    <span data-template="helpers:model-value" data-template-key="column.ucd"/>
                                </a>
                            </div>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-template="app:each-row">
                        <td>
                            <div class="dropdown">
                                <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                    <span class="glyphicon glyphicon-cog"/>&#160;<b class="caret"/>
                                </a>
                                <ul class="dropdown-menu" role="menu"/>
                            </div>
                        </td>
                        <td data-template="app:row-cells"/>
                    </tr>
                    <tr data-template="helpers:if-model-key" data-template-key="overflow">
                        <td>
                            <strong>Overflow</strong>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="panel panel-default" style="overflow:visible;">
            <div class="panel-heading">
                <h6 class="panel-title">
                    <a data-toggle="collapse" data-parent="#querycaption" href="#querycaption">
                        <i class="indicator glyphicon glyphicon-chevron-down"/> Results for ADQL query
                    </a>
                </h6>
            </div>
            <div id="querycaption" class="panel-body panel-collapse collapse in">
                <table class="table table-striped table-bordered table-hover">
                    <caption data-template="helpers:if-model-key" data-template-key="query">
                        <code>
                            <span data-template="helpers:model-value" data-template-key="query"/>
                        </code>
                        <br/>
                        ( <a data-template="helpers:model-value-attribute" data-template-key="query-edit" data-template-name="href">Edit query</a> )
                    </caption>
                </table>    
                <p>Provided metadata are an extension on top of the <a href="http://www.ivoa.net/documents/ObsCore/">ObsCore</a> datamodel.</p>    
            </div>   
        </div>
        
        <div data-template="templates:include" data-template-path="_voar.html"/>
    </div>
    </div>
</div>
