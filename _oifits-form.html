<?xml version="1.0" encoding="UTF-8"?>
<tbody xmlns="http://www.w3.org/1999/xhtml" data-template="oifits:granules">
    <tr>
        <td colspan="4">
            <a data-template="helpers:model-value-attribute" data-template-key="oifits.url" data-template-name="href">
                <span data-template="oifits:basename" data-template-key="oifits.url"/>
            </a>
            &#160;
            <a href="#" tabindex="0" data-toggle="checkreport" data-trigger="focus" data-template="helpers:model-value-attribute" data-template-key="oifits.report" data-template-name="data-report">
                <span class="glyphicon glyphicon-info-sign"/>
            </a>
            &#160;
            <span class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                    <span class="glyphicon glyphicon-cog"/>&#160;<b class="caret"/>
                </a>
                <ul class="dropdown-menu" role="menu"/>
            </span>
            &#160;
            <div>
                <label class="col-md-2 control-label" rel="tooltip" data-original-title="program id (optional)">Proposal ID</label>
                <input name="progid" data-template="helpers:model-value-attribute" data-template-key="oifits.progid" data-template-name="value"/>
            </div>
        </td>
        <td>
            <div data-template="helpers:unless-model-key" data-template-key="skip-oifits-quality-level-selector">
                <div data-template="app:data-quality-flags">
                    <select class="form-control oifits-quality-level-selector" name="quality_level_common_oifits" data-template="helpers:form-control" size="1">
                        <option data-template="helpers:select-options" data-template-key="data-quality-flags" data-template-sorted="yes"/>
                    </select>
                </div>
            </div>
        </td>
    </tr>
    <tr class="granule" data-template="helpers:each" data-template-from="oifits.granules" data-template-to="granule">
        <td>
            <div data-role="targetselector">
                <span data-template="helpers:model-value" data-template-key="granule.target_name"/> - <span data-template="oifits:hms" data-template-key="granule.s_ra"/>&#160;<span data-template="oifits:dms" data-template-key="granule.s_dec"/>
                <input name="target_name" type="hidden" data-template="helpers:model-value-attribute" data-template-key="granule.target_name" data-template-name="value"/>
                <input name="s_ra" type="hidden" data-template="helpers:model-value-attribute" data-template-key="granule.s_ra" data-template-name="value"/>
                <input name="s_dec" type="hidden" data-template="helpers:model-value-attribute" data-template-key="granule.s_dec" data-template-name="value"/>
            </div>
        </td>
        <td>
            <div data-role="instrumentselector">
                <span data-template="helpers:model-value" data-template-key="granule.facility_name"/> - <span data-template="helpers:model-value" data-template-key="granule.instrument_name"/>
                <input name="facility_name" type="hidden" data-template="helpers:model-value-attribute" data-template-key="granule.facility_name" data-template-name="value"/>
                <input name="instrument_name" type="hidden" data-template="helpers:model-value-attribute" data-template-key="granule.instrument_name" data-template-name="value"/>
            </div>
        </td>
        <td>
            <div data-role="modeselector">
                <span data-template="helpers:model-value" data-template-key="granule.instrument_mode"/>
                <input name="instrument_mode" type="hidden" data-template="helpers:model-value-attribute" data-template-key="granule.instrument_mode" data-template-name="value"/>
            </div>
        </td>
        <td>
            <p class="form-control-static">
                <span data-template="oifits:date" data-template-key="granule.t_min"/> - <span data-template="oifits:date" data-template-key="granule.t_max"/>
            </p>
            <input name="t_min" type="hidden" data-template="helpers:model-value-attribute" data-template-key="granule.t_min" data-template-name="value"/>
            <input name="t_max" type="hidden" data-template="helpers:model-value-attribute" data-template-key="granule.t_max" data-template-name="value"/>
        </td>
        <td>
            <div data-template="helpers:unless-model-key" data-template-key="skip-quality-level-selector">
                <div data-template="app:data-quality-flags">
                    <select class="form-control quality-level-selector" name="quality_level" data-template="helpers:form-control" size="1">
                        <option data-template="helpers:select-options" data-template-key="data-quality-flags" data-template-sorted="yes"/>
                    </select>
                </div>
            </div>
        </td>
        <input type="hidden" data-template="oifits:hidden-inputs"/>
    </tr>
    <tr data-template="helpers:unless-model-key" data-template-key="oifits.granules">
        <td colspan="5">
            <span data-template="helpers:unless-model-key" data-template-key="oifits.message">
                No granules.
            </span>
            <span data-template="helpers:if-model-key" data-template-key="oifits.message">
                <span data-template="helpers:model-value" data-template-key="oifits.message"/>
            </span>
        </td>
    </tr>
</tbody>